from "THe Elements of Computing Systems", chapter 6
